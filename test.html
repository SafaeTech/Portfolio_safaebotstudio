<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Safae Bot Studio – Trigger Flows</title>
</head>
<body>
  <h1>✨ Safae Bot Studio – Flow Trigger Example</h1>

  <button id="triggerBotCustomer_operations">🤖 Customer Operations</button>
  <button id="triggerBotLead_capture">📩 Lead Capture</button>
  <button id="triggerBotWebsite_development">🌐 Website Development</button>

  <!-- Botpress Embed Script (v3.2) -->
  <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js" defer></script>
  <script src="https://files.bpcontent.cloud/2025/07/29/16/20250729165913-7ZQF1DIO.js" defer></script>

  <script>
    window.addEventListener('load', () => {
      const waitForWebchat = setInterval(() => {
        if (window.botpressWebChat) {
          clearInterval(waitForWebchat);
          console.log("✅ Botpress WebChat is ready");

          // Optional: Handle incoming events
          window.botpressWebChat.onEvent((event) => {
            console.log("📥 Botpress event received:", event);
          });

          // Button logic
          const triggerFlow = (triggerName) => {
            window.botpressWebChat.sendEvent({
              type: 'custom',
              channel: 'web',
              payload: {
                trigger: triggerName
              }
            });
            console.log(`📤 Sent trigger: ${triggerName}`);
          };

          document.getElementById('triggerBotCustomer_operations').addEventListener('click', () => {
            triggerFlow('customer_operations');
          });

          document.getElementById('triggerBotLead_capture').addEventListener('click', () => {
            triggerFlow('lead_capture');
          });

          document.getElementById('triggerBotWebsite_development').addEventListener('click', () => {
            triggerFlow('website_development');
          });
        }
      }, 100);
    });
  </script>
</body>
</html>




