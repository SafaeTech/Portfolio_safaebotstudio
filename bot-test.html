<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Trigger</title>
</head>
<body>
  <h1>Test Trigger</h1>
  <button onclick="sendTrigger()">Send Trigger</button>

  <!-- 🔄 USE your exact current embed from Botpress Webchat settings -->
  <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js" defer></script>
  <script src="https://files.bpcontent.cloud/2025/07/30/15/20250730150200-ABCDEFGH.js" defer></script>

  <script>
    let sendTrigger = () => {
      console.warn("⏳ Botpress not ready yet...");
    };

    const waitForBotpress = setInterval(() => {
      if (window.botpressWebChat) {
        clearInterval(waitForBotpress);
        console.log("✅ Botpress is ready");

        sendTrigger = () => {
          window.botpressWebChat.sendEvent({
            type: 'custom',
            channel: 'web',
            payload: {
              trigger: 'customer_operations'
            }
          });
          console.log("📤 Trigger sent: customer_operations");
        };
      }
    }, 100);
  </script>
</body>
</html>
