<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Safae Bot Studio â€“ Trigger Flows</title>
</head>
<body>
  <h1>âœ¨ Safae Bot Studio â€“ Custom Trigger Example</h1>

  <button id="triggerCustomerOperations">ðŸš€ Trigger Customer Operations</button>
  <button id="triggerLeadCapture">ðŸŽ¯ Trigger Lead Capture</button>

  <!-- Botpress Webchat Scripts -->
  <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js" defer></script>
  <script src="https://files.bpcontent.cloud/2025/07/29/16/20250729165913-7ZQF1DIO.js" defer></script>

  <!-- Custom Trigger Logic -->
  <script>
    window.botpressWebChat.init({
      composerPlaceholder: "Type a message...",
      botConversationDescription: "SafaeBot at your service ðŸ’¡",
      botId: "ba682f44-bcc3-4a69-bba3-94a51555ac87", // your real bot ID
    });

    // Wait until the webchat is ready
    window.botpressWebChat.onEvent('webchat:ready', async () => {
      console.log("âœ… Webchat is ready");

      document.getElementById('triggerCustomerOperations').addEventListener('click', async () => {
        const payload = { type: 'customEvent', channel: 'web', payload: { trigger: 'customer_operations' } };
        console.log("ðŸ“¤ Sending event: customer_operations");
        await window.botpressWebChat.sendEvent(payload);
      });

      document.getElementById('triggerLeadCapture').addEventListener('click', async () => {
        const payload = { type: 'customEvent', channel: 'web', payload: { trigger: 'lead_capture' } };
        console.log("ðŸ“¤ Sending event: lead_capture");
        await window.botpressWebChat.sendEvent(payload);
      });
    });
  </script>
</body>
</html>

