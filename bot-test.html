<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Botpress Trigger Test</title>
</head>
<body>
  <h1>Test Trigger to Botpress</h1>
  <button onclick="sendTrigger('customer_operations')">Send Trigger</button>

  <script>
    function sendTrigger(triggerName) {
      const waitForBotpress = setInterval(() => {
        if (window.botpressWebChat && window.botpressWebChat.sendEvent) {
          clearInterval(waitForBotpress);
          console.log("âœ… Botpress is ready. Sending trigger:", triggerName);
          window.botpressWebChat.sendEvent({
            type: 'custom',
            channel: 'web',
            payload: { trigger: triggerName }
          });
        } else {
          console.log("â³ Botpress not ready yet...");
        }
      }, 500);
    }

    window.addEventListener("load", () => {
      console.log("ğŸŒ Page fully loaded.");
    });
  </script>

  <!-- Place these LAST so Botpress is fully available -->
  <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js"></script>
  <script src="https://files.bpcontent.cloud/2025/07/29/16/20250729165913-7ZQF1DIO.js"></script>
</body>
</html>

